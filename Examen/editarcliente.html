<!DOCTYPE html>
<html>
<head>
	<title>Editar cliente</title>
<!-- The core Firebase JS SDK is always required and must be listed first -->
<!--<script src="https://www.gstatic.com/firebasejs/7.14.2/firebase-app.js"></script> -->
</head>
<body>
	
 <!-- The core Firebase JS SDK is always required and must be listed first -->
 <script src="https://www.gstatic.com/firebasejs/3.6.1/firebase.js"></script>
 <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
 
 <!-- TODO: Add SDKs for Firebase products that you want to use
      https://firebase.google.com/docs/web/setup#available-libraries -->
 
 <script>
   // Your web app's Firebase configuration
   var firebaseConfig = {
     apiKey: "AIzaSyBCmhLeW4Tm1AXXF_R1hFP_q6sklJ_i8AI",
     authDomain: "datos-53800.firebaseapp.com",
     databaseURL: "https://datos-53800.firebaseio.com",
     projectId: "datos-53800",
     storageBucket: "datos-53800.appspot.com",
     messagingSenderId: "266679657746",
     appId: "1:266679657746:web:e1d4306ffa6959e8237fcb"
   };
   // Initialize Firebase
   firebase.initializeApp(firebaseConfig);

// Se conecta con la base de datos de Firebase
var dataDB = firebase.database().ref('Clientes');

 var userId= window.name;

    var clave, apellido, nombre, telefono;
    var Cliente={};

    // Buscamos el art√≠culo.
    dataDB.child(userId).once('value',function(datos)
    {
        Cliente=datos.val();

        clave= Cliente.clave;
        apellido= Cliente.apellido;
        nombre= Cliente.nombre;
        telefono= Cliente.telefono;

        $('#clave').val(clave);
        $('#apellido').val(apellido);
        $('#nombre').val(nombre);
        $('#telefono').val(telefono);

    });



function actualizar() {
  // Se asigna a una variable cada elemento input con su ID
  var clave = document.getElementById('clave');
var apellido = document.getElementById('apellido');
var nombre = document.getElementById('nombre');
var telefono = document.getElementById('telefono');


dataDB.child(userId).update({
  clave: clave.value,
		apellido: apellido.value,
		nombre: nombre.value,
    telefono: telefono.value,
	});

    alert('Cliente actualizado');
}
</script>

<style>

  body {
    background-image: url('https://images8.alphacoders.com/970/970019.png');
    background-repeat: no-repeat;
    background-size: cover;
  }
  </style>
<CENTER>
<h1>Editar Cliente</h1>

  <form action="" method="post">


    <input id="clave" class="input" type="number" value="" placeholder="clave" required /><br> <br>
    <input id="apellido" class="input" type="text" value="" placeholder="apellido" required /><br> <br>
    <input id="nombre" class="input" type="nombre" value="" placeholder="nombre" required /><br> <br>
    <input id="telefono" class="input" type="number" value="" placeholder="telefono" required /><br> <br>

  <button id="submit_button" type="submit" onclick="actualizar()">Actualizar</button>
	<input type="button" onclick="location.href='clientesvista.html';" value="Regresar"/>
  </form>
  <img src="KirbyQuestion.gif"  >
</CENTER>
</body>
</html>
